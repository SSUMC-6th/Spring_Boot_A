### Web server

![image](https://github.com/SSUMC-6th/Spring_Boot_A/assets/118423039/45755ea8-4641-4769-82a9-c05fbd73cb99)

ν΄λΌμ΄μ–ΈνΈ(μ‚¬μ©μ)κ°€ λΈλΌμ°μ € μ£Όμ†μ°½μ— urlμ„ μ…λ ¥ν•μ—¬ μ–΄λ–¤ νμ΄μ§€λ¥Ό μ”μ²­ν•λ©΄, http μ”μ²­μ„ λ°›μ•„λ“¤μ—¬ μ •μ μΈ μ½ν…μΈ (.html .jpeg .css λ“±)λ¥Ό μ‚¬μ©μμ—κ² μ „λ‹¬ν•΄μ£Όλ” μ—­ν• 

- λ€ν‘μ  μ„λ¬΄
    - HTTP ν”„λ΅ν† μ½μ„ κΈ°λ°μΌλ΅ ν•μ—¬ ν΄λΌμ΄μ–ΈνΈ(μ›Ή λΈλΌμ°μ € λλ” μ›Ή ν¬λ΅¤λ¬)μ μ”μ²­μ„ μ„λΉ„μ¤ ν•λ” κΈ°λ¥μ„ λ‹΄λ‹Ή
    - λ‹¨μν μ €μ¥λ μ •μ  μ›Ή λ¦¬μ†μ¤λ“¤μ„ ν΄λΌμ΄μ–ΈνΈλ΅ μ „λ‹¬ν•κ³ , ν΄λΌμ΄μ–ΈνΈλ΅λ¶€ν„° μ½ν…μΈ λ¥Ό μ „λ‹¬λ°›μ•„ μ €μ¥ν•κ±°λ‚ μ²λ¦¬ν•λ‹¤.
    - μ‚¬μ©μλ΅λ¶€ν„° λ™μ μΈ μ”μ²­μ΄ λ“¤μ–΄μ™”μ„ λ•, ν•΄λ‹Ή μ”μ²­μ„ μ›Ή μ„λ²„ μμ²΄μ μΌλ΅ μ²λ¦¬ν•κΈ° μ–΄λ µκΈ° λ•λ¬Έμ— WASμ—κ² μ”μ²­ν•¨.
- λ€ν‘μ μΈ μ›Ή μ„λ²„μ μΆ…λ¥: Apache, Nginx, IIS(windowsΒ μ „μ© μ›Ή μ„λ²„)

### WAS (web application server)

![image](https://github.com/SSUMC-6th/Spring_Boot_A/assets/118423039/72ab5031-ff7f-43cd-bb04-a87025dc525f)

<aside>
π’΅ ν΄λΌμ΄μ–ΈνΈμ μ”μ²­μ— λ€ν•΄ μ μ ν• λ°μ΄ν„°λ¥Ό **λ™μ μΌλ΅** λ§λ“¤μ–΄μ£Όλ” μ„λ²„

</aside>

WAS = Web server + Web container

WAS λν• μ›Ή μ„λ²„μ™€ λ™μΌν•κ² HTTP κΈ°λ°μΌλ΅ λ™μ‘

μ›Ή μ„λ²„κ°€ ν•  μ μλ” κΈ°λ¥ λ€λ¶€λ¶„μ΄ WASμ—μ„λ„ μ²λ¦¬κ°€ κ°€λ¥ν•λ©°, λΉ„μ¦λ‹μ¤ λ΅μ§(μ„λ²„μ‚¬μ΄λ“ μ½”λ“)μ„ μ²λ¦¬ν•  μ μμ–΄ μ‚¬μ©μμ—κ² λ™μ μΈ μ½ν…μΈ λ¥Ό μ „λ‹¬ν•  μ μλ‹¤. μ£Όλ΅ λ°μ΄ν„°λ² μ΄μ¤ μ„λ²„μ™€ κ°™μ΄ μν–‰λλ‹¤.

β‡’ μ¦‰ WASμ μ£Όμ” μ„λ¬΄λ” λ™μ μΈ μ”μ²­μ„ λ°›μ•„ μ²λ¦¬ν•΄ μ£Όλ” μ„λ²„

node.js, spring bootμ΄ ν•΄λ‹Ή

### Web serverκ°€ ν•„μ”ν• μ΄μ ?

- ν΄λΌμ΄μ–ΈνΈ(μ›Ή λΈλΌμ°μ €)μ— μ΄λ―Έμ§€ νμΌ(μ •μ  μ»¨ν…μΈ )μ„ λ³΄λ‚Ό λ•
    - Web Serverλ¥Ό ν†µν•΄ μ •μ μΈ νμΌλ“¤μ„ λΉ λ¥΄κ² λ³΄λ‚΄μ¤„ μ μλ‹¤.
    - λ”°λΌμ„ Web Serverμ—μ„λ” μ •μ  μ»¨ν…μΈ λ§ μ²λ¦¬ν•λ„λ΅ κΈ°λ¥μ„ λ¶„λ°°ν•μ—¬ μ„λ²„μ λ¶€λ‹΄μ„ μ¤„μΌ μ μλ‹¤.

### WASκ°€ ν•„μ”ν• μ΄μ ?

- μ›Ή νμ΄μ§€λ” μ •μ  μ»¨ν…μΈ μ™€ λ™μ  μ»¨ν…μΈ κ°€ λ¨λ‘ μ΅΄μ¬ν•λ‹¤
    - μ‚¬μ©μμ μ”μ²­μ— λ§κ² μ μ ν• λ™μ  μ»¨ν…μΈ λ¥Ό λ§λ“¤μ–΄μ„ μ κ³µν•΄μ•Ό ν•λ‹¤.
    - μ΄λ•, Web Serverλ§μ„ μ΄μ©ν•λ‹¤λ©΄ μ‚¬μ©μκ°€ μ›ν•λ” μ”μ²­μ— λ€ν• κ²°κ³Όκ°’μ„ λ¨λ‘ λ―Έλ¦¬ λ§λ“¤μ–΄ λ†“κ³  μ„λΉ„μ¤λ¥Ό ν•΄μ•Ό ν•λ‹¤.ν•μ§€λ§ μ΄λ ‡κ² μν–‰ν•κΈ°μ—λ” μμ›μ΄ μ λ€μ μΌλ΅ λ¶€μ΅±ν•λ‹¤.
    - λ”°λΌμ„ WASλ¥Ό ν†µν•΄ μ”μ²­μ— λ§λ” λ°μ΄ν„°λ¥Ό DBμ—μ„ κ°€μ Έμ™€μ„ λΉ„μ¦λ‹μ¤ λ΅μ§μ— λ§κ² κ·Έλ• κ·Έλ• κ²°κ³Όλ¥Ό λ§λ“¤μ–΄μ„ μ κ³µν•¨μΌλ΅μ¨ μμ›μ„ ν¨μ¨μ μΌλ΅ μ‚¬μ©ν•  μ μλ‹¤.

### Reverse Proxy

![image](https://github.com/SSUMC-6th/Spring_Boot_A/assets/118423039/2567f15d-db07-4dfa-982c-742faafb4c2b)

<aside>
π’΅ ν΄λΌμ΄μ–ΈνΈμ™€ μ›Ή μ„λ²„ κ°„μ μ¤‘κ°μ μ—­ν• μ„ ν•λ” μ„λ²„

- ν΄λΌμ΄μ–ΈνΈλ΅λ¶€ν„°μ μ”μ²­μ„ λ€μ‹  λ°›μ•„ μ›Ή μ„λ²„μ— μ „λ‹¬ν•κ³ , μ›Ή μ„λ²„μ μ‘λ‹µμ„ ν΄λΌμ΄μ–ΈνΈμ—κ² μ „λ‹¬ν•λ” μ—­ν• 
- μ΄λ¥Ό ν†µν•΄ λ¦¬λ²„μ¤ ν”„λ΅μ‹λ” μ›Ή μ„λ²„μ λ¶€ν•λ¥Ό λ¶„μ‚°μ‹ν‚¤κ³ , λ³΄μ•μ„ κ°•ν™”ν•λ” λ“± λ‹¤μ–‘ν• κΈ°λ¥μ„ μν–‰
</aside>

- κΈ°λ³Έ μ‘λ™ μ›λ¦¬
    - κΈ°λ³Έ μ‘λ™ μ›λ¦¬λ” ν΄λΌμ΄μ–ΈνΈκ°€ λ¦¬λ²„μ¤ ν”„λ΅μ‹μ— μ”μ²­μ„ λ³΄λ‚΄λ©΄, λ¦¬λ²„μ¤ ν”„λ΅μ‹λ” μ”μ²­μ„ μ›Ή μ„λ²„μ— μ „λ‹¬ν•κ³ , μ›Ή μ„λ²„λ” μ”μ²­λ λ°μ΄ν„°λ¥Ό μ²λ¦¬ν• ν›„ λ¦¬λ²„μ¤ ν”„λ΅μ‹μ—κ² μ‘λ‹µμ„ λ³΄λ‚Έλ‹¤. κ·Έλ¦¬κ³  λ¦¬λ²„μ¤ ν”„λ΅μ‹λ” μ›Ή μ„λ²„λ΅λ¶€ν„° λ°›μ€ μ‘λ‹µμ„ ν΄λΌμ΄μ–ΈνΈμ—κ² μ „λ‹¬ν•λ” λ°©μ‹μΌλ΅ λ™μ‘
- ν•„μ”μ„±
    - μ„λ²„ λ¶€ν• λ¶„μ‚°
        - λ¦¬λ²„μ¤ ν”„λ΅μ‹λ” λ“¤μ–΄μ¤λ” μ”μ²­μ„ μ—¬λ¬ λ€μ μ„λ²„λ΅ λ¶„μ‚°μ‹μΌ κ° μ„λ²„μ λ¶€ν•λ¥Ό μ¤„μ΄κ³ , μ„λ²„μ κ°€μ©μ„±μ„ λ†’μ—¬ μ•μ •μ μΈ μ„λΉ„μ¤ μ κ³µμ΄ κ°€λ¥
    - λ³΄μ• κ°•ν™”
        - λ¦¬λ²„μ¤ ν”„λ΅μ‹λ” μ™Έλ¶€μ—μ„ μ§μ ‘ μ„λ²„μ— μ ‘κ·Όν•μ§€ λ»ν•λ„λ΅ ν•μ—¬ μ›Ή μ„λΉ„μ¤μ λ³΄μ•μ„ κ°•ν™”
        - ν΄λΌμ΄μ–ΈνΈ μ”μ²­μ€ λ¨Όμ € λ¦¬λ²„μ¤ ν”„λ΅μ‹λ¥Ό κ±°μ³ μ„λ²„λ΅ μ „λ‹¬λλ©°, μ΄ κ³Όμ •μ—μ„ λ¦¬λ²„μ¤ ν”„λ΅μ‹λ” μ•…μ„± μ”μ²­ ν•„ν„°λ§, μ ‘κ·Ό μ ν• λ“±μ μ—­ν• μ„ μν–‰ν•μ—¬ μ„λ²„λ¥Ό λ³΄νΈ
    - μΊμ‹± λ° κ°€μ†ν™”
        - λ¦¬λ²„μ¤ ν”„λ΅μ‹λ” μμ£Ό μ‚¬μ©λλ” μ •μ  νμΌλ“¤(μ΄λ―Έμ§€, CSS, JavaScript λ“±)μ„ μΊμ‹μ— μ €μ¥ν•μ—¬ λΉ λ¥΄κ² μ κ³µ β‡’ μ„λ²„μ λ¶€ν•λ¥Ό μ¤„μ΄κ³  μ‘λ‹µ μ‹κ°„μ„ λ‹¨μ¶•μ‹μΌ μ›Ή μ„λΉ„μ¤μ μ„±λ¥μ„ ν–¥μƒ
    - μ„λ²„κ°€ λ„κµ¬μΈμ§€λ¥Ό κ°μ¶”λ” μ—­ν• 
        - ν΄λΌμ΄μ–ΈνΈλ” λ¦¬λ²„μ¤ ν”„λ΅μ‹ μ„λ²„λ¥Ό λ¨Όμ € νΈμ¶ν•κ² λκΈ° λ•λ¬Έμ— μ‹¤μ  μ„λ²„μ IPλ¥Ό μ• μ μ—†μ
- λ‹¨μ 
    - μ¶”κ°€μ μΈ μ„λ²„ μ„¤μ •κ³Ό κ΄€λ¦¬, λ„¤νΈμ›ν¬ μ§€μ—°, λ³µμ΅μ„± μ¦κ°€

- nginxμ—μ„ λ¦¬λ²„μ¤ ν”„λ΅μ‹ μ„¤μ •

```bash
location / {
                proxy_pass http://localhost:3000; <- ν”„λ΅μ‹ μ„¤μ •
                # First attempt to serve request as file, then
                # as directory, then fall back to displaying a 404.
                try_files $uri $uri/ =404;
        }
```

### **forward proxy, reverse proxy** λΉ„κµ

![image](https://github.com/SSUMC-6th/Spring_Boot_A/assets/118423039/12413bab-c080-46c1-94e1-2156a7c54a1b)

- Forward Proxy μ„λ²„λ” ν΄λΌμ΄μ–ΈνΈ μ•μ— λ†“μ—¬μ Έ μλ” λ°λ©΄, Reverse Proxy μ„λ²„λ” μ›Ήμ„λ²„/WAS μ•μ— λ†“μ—¬ μλ‹¤.
- ν΄λΌμ΄μ–ΈνΈ λ€μ‹  ν”„λ΅μ‹ μ„λ²„κ°€ λ©μ  μ„λ²„μ— ν†µμ‹ ν•΄μ£Όλ” κµ¬μ„±
- Forward Proxyλ” ν΄λΌμ΄μ–ΈνΈκ°€ **μ§μ ‘ μ„λ²„ URLλ΅ μ”μ²­**μ„ λ³΄λ‚΄κ³  νƒ€κ² μ„λ²„μ μ£Όμ†κ°€ λ‚΄λ¶€λ§μ—μ„ ν¬μ›λ“ ν”„λ΅μ‹μ— μ „λ‹¬λμ–΄, ν¬μ›λ“ ν”„λ΅μ‹κ°€ μ”μ²­μ„ λ³΄λ‚΄κ² λμ–΄ μ„λ²„μ—κ² ν΄λΌμ΄μ–ΈνΈλ¥Ό κ°μ¶ μ μλ‹¤ (μ„λ²„κ°€ μ‘λ‹µλ°›μ€ IPλ” ν¬μ›λ“ ν”„λ΅μ‹ μ„λ²„μ IPμ΄κΈ° λ•ν΄λΌμ΄μ–ΈνΈκ°€ λ„κµ°μ§€ μ• μ μ—†μ)
β‡’ ν΄λΌμ΄μ–ΈνΈκ°€ www.abc.comμ— μ§μ ‘ μ”μ²­μ‹, ν¬μ›λ“ ν”„λ΅μ‹ μ„λ²„κ°€ www.abc.comμ λ¦¬μ†μ¤λ¥Ό λ€μ‹  λ°›μ•„μ™€μ„ ν΄λΌμ΄μ–ΈνΈμ—κ² λ‚΄λ―Όλ‹¤ (forward)

![image](https://github.com/SSUMC-6th/Spring_Boot_A/assets/118423039/1983f482-31b0-490d-aebc-681375d162c5)


- λ°λ©΄μ— Reverse Proxyμ—μ„ ν΄λΌμ΄μ–ΈνΈλ” μ›Ήμ„λΉ„μ¤μ— μ ‘κ·Όν• λ• μ›Ήμ„λ²„μ— μ”μ²­ν•λ” κ²ƒμ΄ μ•„λ‹, **ν”„λ΅μ‹λ΅ μ”μ²­ν•κ³ **, ν”„λ΅μ‹κ°€ λ°°ν›„(reverse)μ μ„λ²„λ΅λ¶€ν„° λ°μ΄ν„°λ¥Ό κ°€μ Έμ¨λ‹¤.
- ν”„λ΅μ‹ μ„λ²„ URLλ΅λ§ μ ‘κ·Όμ΄ κ°€λ¥ν•μ—¬ λ³Έ μ„λ²„μ IP μ •λ³΄λ¥Ό μ¨κΈΈ μ μλ‹¤.
- ν΄λΌμ΄μ–ΈνΈμ½μΌλ΅ λ°μ΄ν„°(response)λ¥Ό λ°€μ–΄μ£Όλ”κ²Β **ν¬μ›λ“**λΌλ©΄, κ·Έ λ°λ€νΈμΈ μ„λ²„ μ½μΌλ΅ λ°μ΄ν„°(request)λ¥Ό λ°€μ–΄μ£Όλ” κ²ƒμ΄Β **λ¦¬λ²„μ¤ ν”„λ΅μ‹**